class EasyCarousel{constructor(a,b){this.carouselQuery=a,this.autoSlide=b>=100||null!==b?b:null;let f=a.querySelector(".carousel-dots"),c=a.querySelector(".carousel-slider"),d=0,g=0;window.addEventListener("resize",()=>{h(),e(),i(0)}),a.querySelector(".carousel-control.prev")&&a.querySelector(".carousel-control.prev").addEventListener("click",()=>i("prev")),a.querySelector(".carousel-control.next")&&a.querySelector(".carousel-control.next").addEventListener("click",()=>i("next")),b&&(c.addEventListener("mouseenter",()=>{clearInterval(d)}),c.addEventListener("mouseleave",()=>{d=setInterval(()=>i("next"),b)}));let h=()=>{let b=a.querySelectorAll(".carousel-slide").length,c=parseInt(getComputedStyle(a.querySelector(".carousel-slide")).minWidth),d=Math.round(100/c),e=b-(d-1),f=a.querySelector(".carousel-slide").offsetWidth;return{screensCount:e,slideWidth:f}},i=j=>{b&&(clearInterval(d),d=setInterval(()=>i("next"),b));let e=h();switch(j){case"prev":g-=1;break;case"next":g+=1;break;default:g=j}g>=e.screensCount&&(g=0),g<0&&(g=e.screensCount-1),c.scrollLeft=g*e.slideWidth,f&&e.screensCount>1&&(a.querySelector(".carousel-dot.active")&&a.querySelector(".carousel-dot.active").classList.remove("active"),a.querySelector(`[data-dot="${g}"]`).classList.add("active"))};b&&(d=setInterval(()=>{i("next")},b));let j=()=>{let d=h(),c="";for(let b=0;b<d.screensCount;b++)c+=`<button data-dot="${b}" class="carousel-dot ${b===g?"active":""}"/>`;a.querySelector(".carousel-dots").innerHTML=c,a.querySelectorAll(".carousel-dot").forEach((a,b)=>{a.addEventListener("click",()=>{i(b)})})},e=()=>{let b=h();b.screensCount>1?(a.querySelectorAll(".carousel-control").forEach(a=>{a.style.display="flex"}),f&&(a.querySelector(".carousel-dots").style.display="flex",j())):(a.querySelectorAll(".carousel-control").forEach(a=>{a.style.display="none"}),f&&(a.querySelector(".carousel-dots").style.display="none"))};e();let k=0,l=0;window.addEventListener("keydown",a=>{"ArrowRight"===a.key&&i("next"),"ArrowLeft"===a.key&&i("prev")}),c.addEventListener("touchstart",a=>{c.style.overflow="scroll",k=a.changedTouches[0].screenX}),c.addEventListener("touchend",a=>{c.style.overflow="hidden",l=a.changedTouches[0].screenX,m()});let m=()=>{l<=k&&i("next"),l>=k&&i("prev"),k=0,l=0}}}