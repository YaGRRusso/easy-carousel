class EasyCarousel { constructor(e, t) { this.carouselQuery = e, this.autoSlide = 100 !== t || null !== t ? t : null; let r = 0, s = 0; const o = e.querySelector(".carousel-dots"); window.addEventListener("resize", () => { c(), l() }), e.querySelector(".carousel-control.prev") && e.querySelector(".carousel-control.prev").addEventListener("click", () => n("prev")), e.querySelector(".carousel-control.next") && e.querySelector(".carousel-control.next").addEventListener("click", () => n("next")); const c = () => { const t = e.querySelectorAll(".carousel-slide").length, r = parseInt(getComputedStyle(e.querySelector(".carousel-slide")).minWidth); return { screensCount: t - (Math.round(100 / r) - 1), translatePercent: 100 } }, n = l => { t && (clearInterval(r), r = setInterval(() => n("next"), t)); const a = c(); switch (l) { case "prev": s -= 1; break; case "next": s += 1; break; default: s = l }s >= a.screensCount && (s = 0), s < 0 && (s = a.screensCount - 1), e.querySelectorAll(".carousel-slide").forEach(e => { e.style.transform = `translateX(-${s * a.translatePercent}%)` }), o && a.screensCount > 1 && (e.querySelector(".carousel-dot.active") && e.querySelector(".carousel-dot.active").classList.remove("active"), e.querySelector(`[data-dot="${s}"]`).classList.add("active")) }; t && (r = setInterval(() => { n("next") }, t)); const l = () => { const t = c(); if (o && t.screensCount > 1) { let r = ""; for (let e = 0; e < t.screensCount; e++)r += `<button data-dot="${e}" class="carousel-dot ${e === s ? "active" : ""}"/>`; e.querySelector(".carousel-dots").innerHTML = r, e.querySelectorAll(".carousel-dot").forEach((e, t) => { e.addEventListener("click", () => { n(t) }) }) } }; l(); let a = 0, u = 0; const d = e.querySelector(".carousel-slider"); window.addEventListener("keydown", e => { "ArrowRight" === e.key && n("next"), "ArrowLeft" === e.key && n("prev") }), d.addEventListener("touchstart", e => { a = e.changedTouches[0].screenX }), d.addEventListener("touchend", e => { u = e.changedTouches[0].screenX, i() }), d.addEventListener("mousedown", e => { e.preventDefault(), a = e.screenX }), d.addEventListener("mouseup", e => { u = e.screenX, i() }); const i = () => { u <= a && n("next"), u >= a && n("prev"), a = 0, u = 0 } } }