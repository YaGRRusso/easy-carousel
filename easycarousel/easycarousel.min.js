class EasyCarousel { constructor(e, t) { this.carouselQuery = e, this.autoSlide = t >= 100 || null !== t ? t : null; let r = 0, s = 0; const o = e.querySelector(".carousel-dots"); window.addEventListener("resize", () => { l(), n(), c(0) }), e.querySelector(".carousel-control.prev") && e.querySelector(".carousel-control.prev").addEventListener("click", () => c("prev")), e.querySelector(".carousel-control.next") && e.querySelector(".carousel-control.next").addEventListener("click", () => c("next")), t && (e.querySelector(".carousel-slider").addEventListener("mouseenter", () => { clearInterval(r) }), e.querySelector(".carousel-slider").addEventListener("mouseleave", () => { r = setInterval(() => c("next"), t) })); const l = () => { const t = e.querySelectorAll(".carousel-slide").length, r = parseInt(getComputedStyle(e.querySelector(".carousel-slide")).minWidth); return { screensCount: t - (Math.round(100 / r) - 1), translatePercent: 100 } }, c = n => { t && (clearInterval(r), r = setInterval(() => c("next"), t)); const a = l(); switch (n) { case "prev": s -= 1; break; case "next": s += 1; break; default: s = n }s >= a.screensCount && (s = 0), s < 0 && (s = a.screensCount - 1), e.querySelectorAll(".carousel-slide").forEach(e => { e.style.transform = `translateX(-${s * a.translatePercent}%)` }), o && a.screensCount > 1 && (e.querySelector(".carousel-dot.active") && e.querySelector(".carousel-dot.active").classList.remove("active"), e.querySelector(`[data-dot="${s}"]`).classList.add("active")) }; t && (r = setInterval(() => { c("next") }, t)); const n = () => { l().screensCount > 1 ? (e.querySelectorAll(".carousel-control").forEach(e => { e.style.display = "flex" }), o && (e.querySelector(".carousel-dots").style.display = "flex", (() => { const t = l(); let r = ""; for (let e = 0; e < t.screensCount; e++)r += `<button data-dot="${e}" class="carousel-dot ${e === s ? "active" : ""}"/>`; e.querySelector(".carousel-dots").innerHTML = r, e.querySelectorAll(".carousel-dot").forEach((e, t) => { e.addEventListener("click", () => { c(t) }) }) })())) : (e.querySelectorAll(".carousel-control").forEach(e => { e.style.display = "none" }), o && (e.querySelector(".carousel-dots").style.display = "none")) }; n(); let a = 0, u = 0; const d = e.querySelector(".carousel-slider"); window.addEventListener("keydown", e => { "ArrowRight" === e.key && c("next"), "ArrowLeft" === e.key && c("prev") }), d.addEventListener("touchstart", e => { a = e.changedTouches[0].screenX }), d.addEventListener("touchend", e => { u = e.changedTouches[0].screenX, i() }), d.addEventListener("mousedown", e => { e.preventDefault(), a = e.screenX }), d.addEventListener("mouseup", e => { u = e.screenX, i() }); const i = () => { u <= a && c("next"), u >= a && c("prev"), a = 0, u = 0 } } }