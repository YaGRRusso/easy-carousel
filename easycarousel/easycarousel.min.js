class EasyCarousel{constructor(e,t){this.carouselQuery=e,this.autoSlide=t>=100||null!==t?t:null;let s=e.querySelectorAll(".carousel-slide:not([style*='display:none'])").length;if(!s)return;let r=e.querySelector(".carousel-dots"),l=e.querySelector(".carousel-slider"),c=e.querySelectorAll(".carousel-control"),o=0,n=0;window.addEventListener("resize",()=>{a(),u(),d(0)}),c&&c.forEach(e=>{e.classList.contains("prev")&&e.addEventListener("click",()=>d("prev")),e.classList.contains("next")&&e.addEventListener("click",()=>d("next"))}),t&&(l.addEventListener("mouseenter",()=>{clearInterval(o)}),l.addEventListener("mouseleave",()=>{o=setInterval(()=>d("next"),t)}));let a=()=>{let t=parseInt(getComputedStyle(e.querySelector(".carousel-slide")).minWidth),r=Math.round(100/t),l=s-(r-1),c=e.querySelector(".carousel-slide").offsetWidth;return{screensCount:l,slideWidth:c}},d=e=>{t&&(clearInterval(o),o=setInterval(()=>d("next"),t));let s=a();switch(e){case"prev":n-=1;break;case"next":n+=1;break;default:n=e}n>=s.screensCount&&(n=0),n<0&&(n=s.screensCount-1),l.scrollLeft=n*s.slideWidth,r&&s.screensCount>1&&(r.querySelector(".carousel-dot.active")&&r.querySelector(".carousel-dot.active").classList.remove("active"),r.querySelector(`[data-dot="${n}"]`).classList.add("active"))};t&&(o=setInterval(()=>{d("next")},t));let i=()=>{let e=a(),t="";for(let s=0;s<e.screensCount;s++)t+=`<button data-dot="${s}" class="carousel-dot ${s===n?"active":""}"/>`;r.innerHTML=t,r.querySelectorAll(".carousel-dot").forEach((e,t)=>{e.addEventListener("click",()=>{d(t)})})},u=()=>{let e=a();e.screensCount<=1?(c&&c.forEach(e=>{e.classList.add("hidden")}),r&&r.classList.add("hidden")):(c&&c.forEach(e=>{e.classList.remove("hidden")}),r&&(r.classList.remove("hidden"),i()))};u();let v=0,h=0;window.addEventListener("keydown",e=>{"ArrowRight"===e.key&&d("next"),"ArrowLeft"===e.key&&d("prev")}),l.addEventListener("touchstart",e=>{l.style.overflow="scroll",v=e.changedTouches[0].screenX}),l.addEventListener("touchend",e=>{l.style.overflow="hidden",h=e.changedTouches[0].screenX,L()});let L=()=>{h<=v&&d("next"),h>=v&&d("prev"),v=0,h=0}}}
